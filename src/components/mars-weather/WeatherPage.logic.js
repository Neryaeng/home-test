import { WEATHER_API_URL } from "../../services";

export const weatherData = {
    "sol_keys": ["259", "260", "261", "262", "263", "264", "265"],
    "259": {
        "AT": { "av": 71.233, "ct": 326642, "mn": -101.024, "mx": -27.149 },
        "HWS": { "av": 4.35, "ct": 154146, "mn": 0.156, "mx": 17.617 },
        "PRE": { "av": 761.006, "ct": 163012, "mn": 742.1498, "mx": 780.3891 },
        "WD": {
            "most_common": {
                "compass_degrees": 202.5,
                "compass_point": "SSW",
                "compass_right": -0.382683432365,
                "compass_up": -0.923879532511,
                "ct": 28551
            },
            "8": {
                "compass_degrees": 180.0,
                "compass_point": "S",
                "compass_right": 0.0,
                "compass_up": -1.0,
                "ct": 17699
            },
            "9": {
                "compass_degrees": 202.5,
                "compass_point": "SSW",
                "compass_right": -0.382683432365,
                "compass_up": -0.923879532511,
                "ct": 28551
            },
            "10": {
                "compass_degrees": 225.0,
                "compass_point": "SW",
                "compass_right": -0.707106781187,
                "compass_up": -0.707106781187,
                "ct": 27124
            }
        },
        "First_UTC": "2019-08-19T08:03:59Z",
        "Last_UTC": "2019-08-20T08:43:34Z",
        "Season": "winter"
    },
    "260": {
        "AT": { "av": 77.95, "ct": 300789, "mn": -101.715, "mx": -28.634 },
        "PRE": { "av": 762.462, "ct": 149206, "mn": 741.1254, "mx": 777.796 },
        "HWS": { "av": 4.35, "ct": 154146, "mn": 0.156, "mx": 17.617 },
        "WD": { "most_common": null },
        "First_UTC": "2019-08-20T08:43:34Z",
        "Last_UTC": "2019-08-21T09:23:09Z",
        "Season": "winter"
    },
    "261": {
        "AT": { "av": 77.77, "ct": 300789, "mn": -101.715, "mx": -28.634 },
        "PRE": { "av": 762.462, "ct": 149206, "mn": 741.1254, "mx": 777.796 },
        "HWS": { "av": 4.35, "ct": 154146, "mn": 0.156, "mx": 17.617 },
        "WD": { "most_common": null },
        "First_UTC": "2019-08-20T08:43:34Z",
        "Last_UTC": "2019-08-21T09:23:09Z",
        "Season": "winter"
    },
    "262": {
        "AT": { "av": 15.95, "ct": 300789, "mn": -101.715, "mx": -28.634 },
        "PRE": { "av": 762.462, "ct": 149206, "mn": 741.1254, "mx": 777.796 },
        "HWS": { "av": 4.35, "ct": 154146, "mn": 0.156, "mx": 17.617 },
        "WD": { "most_common": null },
        "First_UTC": "2019-08-20T08:43:34Z",
        "Last_UTC": "2019-08-21T09:23:09Z",
        "Season": "winter"
    },
    "263": {
        "AT": { "av": 76.95, "ct": 300789, "mn": -101.715, "mx": -28.634 },
        "PRE": { "av": 762.462, "ct": 149206, "mn": 741.1254, "mx": 777.796 },
        "HWS": { "av": 4.35, "ct": 154146, "mn": 0.156, "mx": 17.617 },
        "WD": { "most_common": null },
        "First_UTC": "2019-08-20T08:43:34Z",
        "Last_UTC": "2019-08-21T09:23:09Z",
        "Season": "winter"
    },
    "264": {
        "AT": { "av": 45.95, "ct": 300789, "mn": -101.715, "mx": -28.634 },
        "PRE": { "av": 762.462, "ct": 149206, "mn": 741.1254, "mx": 777.796 },
        "HWS": { "av": 4.35, "ct": 154146, "mn": 0.156, "mx": 17.617 },
        "WD": { "most_common": null },
        "First_UTC": "2019-08-20T08:43:34Z",
        "Last_UTC": "2019-08-21T09:23:09Z",
        "Season": "winter"
    },
    "265": {
        "AT": { "av": 85.95, "ct": 300789, "mn": -101.715, "mx": -28.634 },
        "PRE": { "av": 762.462, "ct": 149206, "mn": 741.1254, "mx": 777.796 },
        "HWS": { "av": 4.35, "ct": 154146, "mn": 0.156, "mx": 17.617 },
        "WD": { "most_common": null },
        "First_UTC": "2019-08-20T08:43:34Z",
        "Last_UTC": "2019-08-21T09:23:09Z",
        "Season": "winter"
    }
    ,
    "266": {
        "AT": { "av": 79.95, "ct": 300789, "mn": -101.715, "mx": -28.634 },
        "PRE": { "av": 762.462, "ct": 149206, "mn": 741.1254, "mx": 777.796 },
        "HWS": { "av": 4.35, "ct": 154146, "mn": 0.156, "mx": 17.617 },
        "WD": { "most_common": null },
        "First_UTC": "2019-08-20T08:43:34Z",
        "Last_UTC": "2019-08-21T09:23:09Z",
        "Season": "winter"
    },
    "267": {
        "AT": { "av": 79.97, "ct": 300789, "mn": -101.715, "mx": -28.634 },
        "PRE": { "av": 762.462, "ct": 149206, "mn": 741.1254, "mx": 777.796 },
        "HWS": { "av": 4.35, "ct": 154146, "mn": 0.156, "mx": 17.617 },
        "WD": { "most_common": null },
        "First_UTC": "2019-08-20T08:43:34Z",
        "Last_UTC": "2019-08-21T09:23:09Z",
        "Season": "winter"
    },
    "268": {
        "AT": { "av": 88.88, "ct": 300789, "mn": -101.715, "mx": -28.634 },
        "PRE": { "av": 762.462, "ct": 149206, "mn": 741.1254, "mx": 777.796 },
        "HWS": { "av": 4.35, "ct": 154146, "mn": 0.156, "mx": 17.617 },
        "WD": { "most_common": null },
        "First_UTC": "2019-08-20T08:43:34Z",
        "Last_UTC": "2019-08-21T09:23:09Z",
        "Season": "winter"
    },
    "269": {
        "AT": { "av": 99.95, "ct": 300789, "mn": -101.715, "mx": -28.634 },
        "PRE": { "av": 762.462, "ct": 149206, "mn": 741.1254, "mx": 777.796 },
        "HWS": { "av": 4.35, "ct": 154146, "mn": 0.156, "mx": 17.617 },
        "WD": { "most_common": null },
        "First_UTC": "2019-08-20T08:43:34Z",
        "Last_UTC": "2019-08-21T09:23:09Z",
        "Season": "winter"
    },
    "270": {
        "AT": { "av": 19.95, "ct": 300789, "mn": -101.715, "mx": -28.634 },
        "PRE": { "av": 762.462, "ct": 149206, "mn": 741.1254, "mx": 777.796 },
        "HWS": { "av": 4.35, "ct": 154146, "mn": 0.156, "mx": 17.617 },
        "WD": { "most_common": null },
        "First_UTC": "2019-08-20T08:43:34Z",
        "Last_UTC": "2019-08-21T09:23:09Z",
        "Season": "winter"
    }, "271": {
        "AT": { "av": 11.11, "ct": 300789, "mn": -101.715, "mx": -28.634 },
        "PRE": { "av": 762.462, "ct": 149206, "mn": 741.1254, "mx": 777.796 },
        "HWS": { "av": 4.35, "ct": 154146, "mn": 0.156, "mx": 17.617 },
        "WD": { "most_common": null },
        "First_UTC": "2019-08-20T08:43:34Z",
        "Last_UTC": "2019-08-21T09:23:09Z",
        "Season": "winter"
    }, "272": {
        "AT": { "av": 22.95, "ct": 300789, "mn": -101.715, "mx": -28.634 },
        "PRE": { "av": 762.462, "ct": 149206, "mn": 741.1254, "mx": 777.796 },
        "HWS": { "av": 4.35, "ct": 154146, "mn": 0.156, "mx": 17.617 },
        "WD": { "most_common": null },
        "First_UTC": "2019-08-20T08:43:34Z",
        "Last_UTC": "2019-08-21T09:23:09Z",
        "Season": "winter"
    }, "273": {
        "AT": { "av": 33.95, "ct": 300789, "mn": -101.715, "mx": -28.634 },
        "PRE": { "av": 762.462, "ct": 149206, "mn": 741.1254, "mx": 777.796 },
        "HWS": { "av": 4.35, "ct": 154146, "mn": 0.156, "mx": 17.617 },
        "WD": { "most_common": null },
        "First_UTC": "2019-08-20T08:43:34Z",
        "Last_UTC": "2019-08-21T09:23:09Z",
        "Season": "winter"
    }, "274": {
        "AT": { "av": 33.95, "ct": 300789, "mn": -101.715, "mx": -28.634 },
        "PRE": { "av": 762.462, "ct": 149206, "mn": 741.1254, "mx": 777.796 },
        "HWS": { "av": 4.35, "ct": 154146, "mn": 0.156, "mx": 17.617 },
        "WD": { "most_common": null },
        "First_UTC": "2019-08-20T08:43:34Z",
        "Last_UTC": "2019-08-21T09:23:09Z",
        "Season": "winter"
    }, "275": {
        "AT": { "av": 33.95, "ct": 300789, "mn": -101.715, "mx": -28.634 },
        "PRE": { "av": 762.462, "ct": 149206, "mn": 741.1254, "mx": 777.796 },
        "HWS": { "av": 4.35, "ct": 154146, "mn": 0.156, "mx": 17.617 },
        "WD": { "most_common": null },
        "First_UTC": "2019-08-20T08:43:34Z",
        "Last_UTC": "2019-08-21T09:23:09Z",
        "Season": "winter"
    }, "276": {
        "AT": { "av": 33.95, "ct": 300789, "mn": -101.715, "mx": -28.634 },
        "PRE": { "av": 762.462, "ct": 149206, "mn": 741.1254, "mx": 777.796 },
        "HWS": { "av": 4.35, "ct": 154146, "mn": 0.156, "mx": 17.617 },
        "WD": { "most_common": null },
        "First_UTC": "2019-08-20T08:43:34Z",
        "Last_UTC": "2019-08-21T09:23:09Z",
        "Season": "winter"
    },
    "validity_checks": {
        "1219": {
            "AT": {
                "sol_hours_with_data": [
                    6,
                    7,
                    8,
                    9,
                    10,
                    11,
                    12
                ],
                "valid": false
            },
            "HWS": {
                "sol_hours_with_data": [
                    6,
                    7,
                    8,
                    9,
                    10,
                    11,
                    12
                ],
                "valid": false
            },
            "PRE": {
                "sol_hours_with_data": [
                    6,
                    7,
                    8,
                    9,
                    10,
                    11,
                    12
                ],
                "valid": false
            },
            "WD": {
                "sol_hours_with_data": [
                    6,
                    7,
                    8,
                    9,
                    10,
                    11,
                    12
                ],
                "valid": false
            }
        },
        "sol_hours_required": 18,
        "sols_checked": [
            "1219"
        ]
    }
}

export const createDivElements = (data, solKeysa) => {
    const solKeys = data?.sol_keys;

    const divElements = solKeys?.map((key) => {
        const object = data[key];
        const { AT, HWS, PRE, First_UTC, Last_UTC } = object || {};

        return (
            <div key={key}>
                <div style={{ width: '300px', padding: '3px', border: '1px solid grey', aspectRatio: '9/7 ' }} key={Math.random()}>
                    {AT && (
                        <div>
                            <span>AT: {AT.av}</span>
                        </div>
                    )}
                    {HWS && (
                        <div>
                            <span>HWS: {HWS.av}</span>
                        </div>
                    )}
                    {PRE && (
                        <div>
                            <span>PRE: {PRE.av}</span>
                        </div>
                    )}
                    {First_UTC && (
                        <div>
                            <span>First_UTC: {First_UTC}</span>
                        </div>
                    )}
                    {Last_UTC && (
                        <div>
                            <span>Last_UTC: {Last_UTC}</span>
                        </div>
                    )}
                </div>
            </div>
        );


    });


    return <>{divElements}</>;
}


export const getWeather = () => {
    fetch(WEATHER_API_URL)
        .then(response => response.json())
        .then(data => {
            const {
                sol_keys,
                validity_checks,
                ...solData
            } = data
            const weatherData = Object.entries(solData).map(([sol, data]) => {
                return {
                    dataPoint: sol,
                    avgTemp: data.AT.av,
                    avgWind: data.WD.av,
                    avgPress: data.PRE.av,
                    firstUTC: data.First_UTC,
                    lastUTC: data.Last_UTC,
                }
            })
        });
    return weatherData;
}

export const getDummyWeather = () => {
    const {
        sol_keys,
        validity_checks,
        ...solData
    } = weatherData;
    const data = Object.entries(solData).map(([sol, data]) => {
        return {
            dataPoint: sol,
            avgTemp: data.AT.av,
            avgWind: data.HWS.av,
            avgPress: data.PRE.av,
            firstUTC: data.First_UTC,
            lastUTC: data.Last_UTC,
        };
    });

    return data;
};
